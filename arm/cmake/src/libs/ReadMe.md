本文中的bitmap数据结构很简单，就包含了一个uint32_t的字段bitmap，原因是本文用到的位图是用于任务优先级，而本设计中OS的任务优先级最多大就31，最小为0，所以只需要一个字节的位图即可。所以这里的位图结构并不算一个通用数据结构。

lib.c
bitmap_init初始化bitmap,对所有的位清零。
bitmap_count计算bitmap一共有多少个位，这里返回固定的32。
bitmap_set设置bitmap某一位。
bitmap_clear清零bitmap某一位。
bitmap_get_first_set获取bitmap第一个非0位。有些读者可能会感到迷惑：获取第一个非0位不就是一个简单的循环查位吗？为什么要搞得这么复杂，确如读者所想，如果只是为了获取第一个非0位，事情不会如此复杂，一个循环就能解决问题，但因为这里用于RTOS，所以时间上它的操作必须是常量，所以这里采取了一个读者不熟悉的做法，至于这个做法的原理，读者只要模仿计算机执行这段程序即可。